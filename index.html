<!DOCTYPE html>
<html>
<head>
    <title>Calculadora Pediátrica</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            color: #4D4D4D;
        }
        .medicacao {
            display: none; /* Esconder as medicações inicialmente */
        }
        .subtitulo {
            cursor: pointer;
            background-color: #F4F3F6;
            padding-top: 1%;
            padding-bottom: 1%;
            padding-right: 2%;
            padding-left: 2%;
            font-size: 1.1em;
            border-style: dotted;
            border-width: 0px;
            border-bottom-width: 1px;
            border-top-width: 1px;
            border-color: #949494;
        }
        strong {
            font-size: 1.1em;
        }
        #cabecalho {
            background-color: #F4F3F6;
            padding-top: 2%;
            padding-bottom: 2%;
            padding-left: 5%;
            padding-right: 5%;
        }
        #corpo {
            padding-right: 3%;
            padding-left: 3%;
        }
        .medicacao{
            padding-right: 1%;
            padding-left: 1%;
        }
        body{
            padding: 0px;
            margin: 0px;
        }
        p{
            font-size: 1em;
            margin-bottom: 1%;
            padding-bottom: 1%;
            border-style: dotted;
            border-width: 0px;
            border-bottom-width: 1px;
            border-color: #949494;
        }
    </style>
</head>
<body>

    <div id="cabecalho">
        <h1>Calculadora Pediátrica</h1>
        <label for="peso">Peso (kg):</label>
        <input type="number" id="peso" name="peso">
        <label for="idade">Idade:</label>
        <input type="number" id="idade" name="idade">
        <select id="unidadeIdade">
            <option value="anos">Anos</option>
            <option value="meses">Meses</option>
        </select>
        <button onclick="calcularDoses()">Calcular</button>
    </div>

    <div id="corpo">
        <h2 class="subtitulo" onclick="toggleMedications('Intubacao')">Intubação em Sequência Rápida</h2>
        <div id="medicacoesIntubacao" class="medicacao">
            <p>1 - <strong>Fentanil (50 mcg/ml)</strong>: diluir 2 ml em 8 ml de AD (10 mcg/ml), administrar <strong><span id="doseFentanil">0</span></strong> ml da solução (4 mcg/kg)</p>
            <p>2 - <strong>Midazolam (5 mg/ml)</strong>: diluir 2 ml em 8 ml de AD (1 mg/ml), administrar <strong><span id="doseMidazolam">0</span></strong> ml da solução (0,3 mg/kg)</p>
            <p>3 - <strong>Etomidato (10 mg/ml)</strong>: diluir 2 ml em 18 ml de AD (1 mg/ml), administrar <strong><span id="doseEtomidato">0</span></strong> ml da solução (0,3 mg/kg)</p>
            <p>4 - <strong>Cetamina (50 mg/ml)</strong>: diluir 2 ml em 8 ml de AD (10 mg/ml), administrar <strong><span id="doseCetamina">0</span></strong> ml da solução (2 mg/kg)</p>
            <p>5 - <strong>Propofol 1% (10 mg/ml)</strong>: administrar <strong><span id="dosePropofol">0</span></strong> ml (4 mg/kg)</p>
            <p>6 - <strong>Succinilcolina 100mg</strong>: diluir o pó com 10 ml de AD (10 mg/ml), administrar <strong><span id="doseSucc100">0</span></strong> ml da solução (2 mg/kg)</p>
            <p>7 - <strong>Succinilcolina 500mg</strong>: diluir o pó com 4 ml de AD (100 mg/ml), puxar 1ml, diluir com 9 ml de AD (10 mg/ml), administrar <strong><span id="doseSucc500">0</span></strong> ml da solução (2 mg/kg)</p>
            <p>8 - <strong>Rocurônio (10 mg/ml)</strong>: administrar <strong><span id="doseRocuronio">0</span></strong> ml (1,2 mg/kg)</p>
            <p>9 - <strong>Usar tubo nº </strong><strong><span id="tamanhoTubo">0</span></strong> mm e inserir até </strong><strong><span id="inserir">0</span></strong> cm</p>
            <p>10 - <strong>Usar lâmina </strong><strong><span id="tamanhoLamina">0</span></strong></p>
        </div>

        <h2 class="subtitulo" onclick="toggleMedications('PCR')">PCR</h2>
        <div id="medicacoesPCR" class="medicacao">
            <p>1 - <strong>Adrenalina</strong>: diluir 1 ml em 9 ml de AD, administrar <strong><span id="doseAdrenalina">0</span></strong> ml da solução</p>
            <p>2 - <strong>Amiodarona</strong>: administrar <strong><span id="doseAmiodarona">0</span></strong> ml</p>
            <p>3 - <strong>Lidocaina (2%) dose de ataque</strong>: administrar <strong><span id="doseLidocainaAtaque">0</span></strong> ml puro</p>
            <p>4 - <strong>Lidocaina (2%) dose de Manutenção</strong>: diluir 10 ml em 40 ml de SG5%, infundir em BIC <strong><span id="doseLidocainaManutencao">0</span></strong> ml/h</p>
            <p>5 - <strong>Atropina (0,5 mg/ml)</strong>: administrar <strong><span id="doseAtropina05">0</span></strong> ml</p>
            <p>6 - <strong>Atropina (0,25 mg/ml)</strong>: administrar <strong><span id="doseAtropina025">0</span></strong> ml</p>
            <p>7 - <strong>Gluconato de Ca (0,5 mEq/ml)</strong>: administrar <strong><span id="doseGluconatoCa">0</span></strong> ml</p>
            <p>8 - <strong>Cloreto de Ca (1,5 mEq/ml)</strong>: administrar <strong><span id="doseCloretoCa">0</span></strong> ml</p>
            <p>9 - <strong>Bicarbonato de Sódio (1 mEq/ml)</strong>: administrar <strong><span id="doseBicarbonato">0</span></strong> ml</p>
            <p>10 - <strong>Glicose 50% (adolescente)</strong>: administrar <strong><span id="doseGlicose50Adolescente">0</span></strong> ml</p>
            <p>11 - <strong>Glicose 25% (Criança)</strong>: administrar <strong><span id="doseGlicose25Crianca">0</span></strong> ml</p>
            <p>12 - <strong>Glicose 10% (Lactente)</strong>: administrar <strong><span id="doseGlicose10Lactente">0</span></strong> ml</p>
        </div>

        <h2 class="subtitulo" onclick="toggleMedications('Vm')">Ventilação mecânica (parâmetros iniciais)</h2>
        <div id="medicacoesVm" class="medicacao">
            <p>1 - <strong>Modo ventilatório</strong>: PCV </p>
            <p>2 - <strong>PIP</strong>: 20 </p>
            <p>3 - <strong>Tempo inspiratório:</strong></p>
            <p>- Neonato: 0,3 - 0,5</p>
            <p>- Lactente: 0,5</p>
            <p>- Criança: 0,7</p>
            <p>- Adolescente: 1,0</p>
            <p> OBS: Pode iniciar sempre com 0,8 para todos e ajustar depois</p>
            <p>4 - <strong>Frequência respiratória</strong>: neonato (30-40), crianças (20-30), adolescentes (12 - 20) </p>
            <p>5 - <strong>PEED</strong>: 5 </p>
        </div>

        <h2 class="subtitulo" onclick="toggleMedications('Sedacao')">Sedação</h2>
        <div id="medicacoesSedacao" class="medicacao">
            <p>1 - <strong>Fentanil (50 mcg/ml) Intermitente</strong>: Diluir 2 ml em 8 ml de AD, administrar <strong><span id="doseFentanilSedaIntermitente">0</span> ml</strong> da solução (1 mcg/kg) </p>
            <p>2 - <strong>Fentanil (50 mcg/ml) Contínuo</strong>: Diluir 10 ml em 40 ml de SF 0,9%, infundir em BIC a <strong><span id="doseFentanilSedaContinuo">0</span> ml/h</strong> (1 mcg/kg/h) </p>
            <p>1 - <strong>Midazolam (5 mg/ml) Intermitente</strong>: Administrar <strong><span id="doseMidaSedaIntermitente">0</span> ml</strong> (0,1 mg/kg) </p>
            <p>2 - <strong>Midazolam (5 mg/ml) Contínuo</strong>: Diluir 10 ml em 40 ml de SF 0,9%, infundir em BIC a <strong><span id="doseMidaSedaContinuo">0</span> ml/h</strong> (0,1 mg/kg/h) </p>
            <p>1 - <strong>Cetamina (50 mg/ml) Intermitente</strong>: Diluir 2 ml em 8 ml de AD, administrar <strong><span id="doseCetaminaSedaIntermitente">0</span> ml</strong> (1 mg/kg) </p>
            <p>2 - <strong>Cetamina (50 mg/ml) Contínuo</strong>: Diluir 5 ml em 245 ml de SF 0,9%, infundir em BIC a <strong><span id="doseCetaminaSedaContinuo">0</span> ml/h</strong> (20 mcg/kg/min) </p>
            <p>2 - <strong>Dexmedetomidina (100 mcg/ml) Contínuo</strong>: Diluir 2 ml em 98 ml de SF 0,9%, infundir em BIC a <strong><span id="doseDexmedetomidinaSedaContinuo">0</span> ml/h</strong> (0,5 mcg/kg/h) </p>
        </div>
    </div>

    <script>
        function calcularDoses() {
            const peso = document.getElementById("peso").value;
            const idade = document.getElementById("idade").value;
            const unidadeIdade = document.getElementById("unidadeIdade").value;

            let idadeEmAnos;

            // Converter idade em meses para anos se necessário
            if (unidadeIdade === "meses") {
                idadeEmAnos = idade / 12;
            } else {
                idadeEmAnos = idade;
            }

            // Cálculos das doses IOT
            const doseFentanil = peso * 0.4;
            const doseMidazolam = peso * 0.3;
            const doseEtomidato = peso * 0.3;
            const doseCetamina = peso * 0.2;
            const dosePropofol = peso * 0.4;
            const doseSucc100 = peso * 0.2;
            const doseSucc500 = peso * 0.2;
            const doseRocuronio = peso * 0.12;

            // Cálculo do tamanho do tubo (gerando número múltiplo de 5)
            function arredondarParaMultiploDe05(num) {
                // Arredonda para cima para o próximo múltiplo de 0.5
                return Math.ceil(num * 2) / 2;
            }

            // Cálculo do tamanho do tubo sem arredondamento
            let tamanhoTubo;
            if (idade < 1) {
                tamanhoTubo = 3.5;
            } else if (idade >= 1 && idade < 12 && unidadeIdade === "meses") {
                tamanhoTubo = 4.0;
            } else {
                tamanhoTubo = ((idadeEmAnos / 4) + 4);
            }

            // Arredonda o tamanho do tubo para o múltiplo de 5 mais próximo
            tamanhoTubo = arredondarParaMultiploDe05(tamanhoTubo);

            const inserir = tamanhoTubo * 3;

            // Tamanho da Lâmina
            let tamanhoLamina;
            if (idadeEmAnos < 1){
                tamanhoLamina = 0;
            }else if (idade == 1){
                tamanhoLamina = 1;
            }else if (idade >= 2 && idade <= 11){
                tamanhoLamina = 2;
            }else if (idade >= 12){
                tamanhoLamina = 3;
            }

            // Doses PCR
            const doseAdrenalina = peso * 0.1;
            const doseAmiodarona = peso * 0.1;
            const doseLidocainaAtaque = peso * 0.05;
            const doseLidocainaManutencao = peso * 0.3;
            const doseAtropina05 = peso * 0.04;
            const doseAtropina025 = peso * 0.08;
            const doseGluconatoCa = peso * 2;
            const doseCloretoCa = peso * 0.66;
            const doseBicarbonato = peso * 1;
            const doseGlicose50Adolescente = peso * 2;
            const doseGlicose25Crianca = peso * 4;
            const doseGlicose10Lactente = peso * 10;

            // Doses Sedação
            const doseFentanilSedaIntermitente = peso * 0.1;
            const doseFentanilSedaContinuo = peso * 0.1;
            const doseMidaSedaIntermitente = peso * 0.02;
            const doseMidaSedaContinuo = peso * 0.1;
            const doseCetaminaSedaIntermitente = peso * 0.1;
            const doseCetaminaSedaContinuo = peso * 1.2;
            const doseDexmedetomidinaSedaContinuo = peso * 0.25;

            // Atualizando os elementos HTML IOT
            document.getElementById("doseFentanil").textContent = doseFentanil.toFixed(1);
            document.getElementById("doseMidazolam").textContent = doseMidazolam.toFixed(1);
            document.getElementById("doseEtomidato").textContent = doseEtomidato.toFixed(1);
            document.getElementById("doseCetamina").textContent = doseCetamina.toFixed(1);
            document.getElementById("dosePropofol").textContent = dosePropofol.toFixed(1);
            document.getElementById("doseSucc100").textContent = doseSucc100.toFixed(1);
            document.getElementById("doseSucc500").textContent = doseSucc500.toFixed(1);
            document.getElementById("doseRocuronio").textContent = doseRocuronio.toFixed(1);
            document.getElementById("tamanhoTubo").textContent = tamanhoTubo.toFixed(1);
            document.getElementById("inserir").textContent = inserir.toFixed(1);
            document.getElementById("tamanhoLamina").textContent = tamanhoLamina;

            // Atualizando doses PCR
            document.getElementById("doseAdrenalina").textContent = doseAdrenalina.toFixed(1);
            document.getElementById("doseAmiodarona").textContent = doseAmiodarona.toFixed(1);
            document.getElementById("doseLidocainaAtaque").textContent = doseLidocainaAtaque.toFixed(1);
            document.getElementById("doseLidocainaManutencao").textContent = doseLidocainaManutencao.toFixed(1);
            document.getElementById("doseAtropina05").textContent = doseAtropina05.toFixed(1);
            document.getElementById("doseAtropina025").textContent = doseAtropina025.toFixed(1);
            document.getElementById("doseGluconatoCa").textContent = doseGluconatoCa.toFixed(1);
            document.getElementById("doseCloretoCa").textContent = doseCloretoCa.toFixed(1);
            document.getElementById("doseBicarbonato").textContent = doseBicarbonato.toFixed(1);
            document.getElementById("doseGlicose50Adolescente").textContent = doseGlicose50Adolescente.toFixed(1);
            document.getElementById("doseGlicose25Crianca").textContent = doseGlicose25Crianca.toFixed(1);
            document.getElementById("doseGlicose10Lactente").textContent = doseGlicose10Lactente.toFixed(1);

            // Atualizando doses Sedação
            document.getElementById("doseFentanilSedaIntermitente").textContent = doseFentanilSedaIntermitente.toFixed(1);
            document.getElementById("doseFentanilSedaContinuo").textContent = doseFentanilSedaContinuo.toFixed(1);
            document.getElementById("doseMidaSedaIntermitente").textContent = doseMidaSedaIntermitente.toFixed(1);
            document.getElementById("doseMidaSedaContinuo").textContent = doseMidaSedaContinuo.toFixed(1);
            document.getElementById("doseCetaminaSedaIntermitente").textContent = doseCetaminaSedaIntermitente.toFixed(1);
            document.getElementById("doseCetaminaSedaContinuo").textContent = doseCetaminaSedaContinuo.toFixed(1);
            document.getElementById("doseDexmedetomidinaSedaContinuo").textContent = doseDexmedetomidinaSedaContinuo.toFixed(1);
        }

        function toggleMedications(tipo) {
            const medicacoes = document.getElementById(`medicacoes${tipo}`);
            // Adicionando log para verificar a chamada da função
            console.log(`Toggling ${tipo} medicacoes`, medicacoes.style.display);

            // Alternar a exibição entre mostrar e esconder
            medicacoes.style.display = medicacoes.style.display === 'none' || medicacoes.style.display === '' ? 'block' : 'none';
        }
    </script>
</body>
</html>
